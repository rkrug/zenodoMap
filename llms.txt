# zenodoMap

Source code for a minimal [Shiny
app](https://rmkrug.shinyapps.io/shiny_zenodmap/) to explore Zenodo
records as a network graph.

The app is available on the
[shinyapps.io](https://rmkrug.shinyapps.io/shiny_zenodmap/) but can also
be run locally.

# AI Usage disclaimer

The development of this app was mailnby done by ChatGPT 5.2 (CODEX
extension in Positron). There has not been any detailed code review yet.

## Run Locally

``` r
shiny::runApp()
```

## Package

This project is structured as an R package named `zenodoMap`. You can
run the app with:

``` r
zenodoMap::run_app()
```

## Notes

## Usage

- Click “Fetch metadata” to load records and populate the keyword list.
- Or upload an existing records list via “Upload data (RDS)” to skip
  fetching.
- Adjust graph options (depth, relations, keywords), then click “Refresh
  graph”.
- Fetching metadata also triggers a graph refresh.

## Notes

- Default community id is `ipbes` (IPBES community). You can add extra
  query terms.
- Expansion depth is selectable (0-2). Expansion follows Zenodo DOIs
  only and is capped for performance.
- Zenodo limits unauthenticated page size to 25; add a token to raise it
  to 100 per page.
- Keyword filter is populated from record keywords and supports
  multi-select.
- Relation type filter is optional; select “All” to include every
  relation.
- Nodes are colored by community vs external deposits; enable “Only
  community-to-community links” to hide external nodes/edges.
- Use “Save data (RDS)” to choose a save location for fetched metadata
  (requires `shinyFiles`).
- Metadata table uses the `DT` package.
- DOI columns in the table are clickable; related items include the
  relation label.
- Concept DOIs in relations are mapped to the latest version found in
  the fetched records.

# Package index

## All functions

- [`build_api_url()`](https://rkrug.github.io/zenodoMap/reference/build_api_url.md)
  : Build a Zenodo records API URL
- [`build_concept_map()`](https://rkrug.github.io/zenodoMap/reference/build_concept_map.md)
  : Map concept ids to the latest version record id
- [`build_graph()`](https://rkrug.github.io/zenodoMap/reference/build_graph.md)
  : Build nodes and edges for the network graph
- [`build_query()`](https://rkrug.github.io/zenodoMap/reference/build_query.md)
  : Build a Zenodo query string
- [`extract_doi()`](https://rkrug.github.io/zenodoMap/reference/extract_doi.md)
  : Extract a DOI from identifier text
- [`extract_relations()`](https://rkrug.github.io/zenodoMap/reference/extract_relations.md)
  : Extract relation types present between community records
- [`filter_by_keywords()`](https://rkrug.github.io/zenodoMap/reference/filter_by_keywords.md)
  : Filter records by keyword tokens
- [`is_valid_record()`](https://rkrug.github.io/zenodoMap/reference/is_valid_record.md)
  : Validate a record object
- [`is_zenodo_doi()`](https://rkrug.github.io/zenodoMap/reference/is_zenodo_doi.md)
  : Check if an identifier is a Zenodo DOI
- [`normalize_keywords()`](https://rkrug.github.io/zenodoMap/reference/normalize_keywords.md)
  : Normalize keywords for matching
- [`normalize_records()`](https://rkrug.github.io/zenodoMap/reference/normalize_records.md)
  : Normalize records to a list of record objects
- [`records_to_table()`](https://rkrug.github.io/zenodoMap/reference/records_to_table.md)
  : Build a metadata table for display
- [`run_app()`](https://rkrug.github.io/zenodoMap/reference/run_app.md)
  : Run the Zenodo network explorer app
- [`sanitize_records()`](https://rkrug.github.io/zenodoMap/reference/sanitize_records.md)
  : Sanitize records by normalizing and filtering invalid entries
- [`server()`](https://rkrug.github.io/zenodoMap/reference/server.md) :
  Shiny server logic for the Zenodo network explorer
- [`ui`](https://rkrug.github.io/zenodoMap/reference/ui.md) : Shiny UI
  for the Zenodo network explorer
- [`zenodo_fetch_record()`](https://rkrug.github.io/zenodoMap/reference/zenodo_fetch_record.md)
  : Fetch a single Zenodo record by id
- [`zenodo_id_from_identifier()`](https://rkrug.github.io/zenodoMap/reference/zenodo_id_from_identifier.md)
  : Extract a Zenodo record id from DOI or record URL
- [`zenodo_search()`](https://rkrug.github.io/zenodoMap/reference/zenodo_search.md)
  : Search Zenodo records (unauthenticated)
- [`zenodo_search_auth()`](https://rkrug.github.io/zenodoMap/reference/zenodo_search_auth.md)
  : Search Zenodo records (authenticated)

# Articles

### All vignettes

- [Zenodo Network Explorer App
  Guide](https://rkrug.github.io/zenodoMap/articles/app-guide.md):
